project.android.publishing {
    singleVariant('release') {
        withSourcesJar()
        withJavadocJar()
    }
}

afterEvaluate {
    publishing {
        repositories {
            maven {
                name = "GitHubPackages"
                url = uri("https://maven.pkg.github.com/2hire/BLEIntSDK")
                credentials {
                    username = System.getenv("MAVEN_USERNAME")
                    password = System.getenv("MAVEN_PASSWORD")
                }
            }
        }

        publications {
            maven(MavenPublication) {
                groupId = 'io.twohire'
                artifactId = 'bleintsdk'
                version = '0.0.2-beta.4'

                afterEvaluate {
                    from components.release
                }
            }
        }
    }
}